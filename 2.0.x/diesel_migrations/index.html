<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Provides functions for maintaining database schema."><meta name="keywords" content="rust, rustlang, rust-lang, diesel_migrations"><title>diesel_migrations - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceSerif4-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../FiraSans-Regular.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../FiraSans-Medium.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceCodePro-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceSerif4-Bold.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceCodePro-Semibold.ttf.woff2"><link rel="stylesheet" type="text/css" href="../normalize.css"><link rel="stylesheet" type="text/css" href="../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../ayu.css" disabled><link rel="stylesheet" type="text/css" href="../dark.css" disabled><link rel="stylesheet" type="text/css" href="../light.css" id="themeStyle"><script id="default-settings" ></script><script src="../storage.js"></script><script src="../crates.js"></script><script defer src="../main.js"></script>
    <noscript><link rel="stylesheet" href="../noscript.css"></noscript><link rel="alternate icon" type="image/png" href="../favicon-16x16.png"><link rel="alternate icon" type="image/png" href="../favicon-32x32.png"><link rel="icon" type="image/svg+xml" href="../favicon.svg"></head><body class="rustdoc mod crate"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="sidebar-logo" href="../diesel_migrations/index.html"><div class="logo-container"><img class="rust-logo" src="../rust-logo.svg" alt="logo"></div>
        </a><h2 class="location"></h2>
    </nav>
    <nav class="sidebar"><a class="sidebar-logo" href="../diesel_migrations/index.html"><div class="logo-container"><img class="rust-logo" src="../rust-logo.svg" alt="logo"></div>
        </a><h2 class="location"><a href="#">Crate diesel_migrations</a></h2><div class="sidebar-elems"><div class="block"><ul><li class="version">Version 2.0.0-rc.0</li><li><a id="all-types" href="all.html">All Items</a></li></div></ul><section><div class="block"><ul><li><a href="#macros">Macros</a></li><li><a href="#structs">Structs</a></li><li><a href="#traits">Traits</a></li></ul></div></section><div id="sidebar-vars" data-name="diesel_migrations" data-ty="mod" data-relpath=""></div><script defer src="sidebar-items.js"></script></div></nav><main><div class="width-limiter"><div class="sub-container"><a class="sub-logo-container" href="../diesel_migrations/index.html"><img class="rust-logo" src="../rust-logo.svg" alt="logo"></a><nav class="sub"><div class="theme-picker hidden"><button id="theme-picker" aria-label="Pick another theme!" aria-haspopup="menu" title="themes"><img width="22" height="22" alt="Pick another theme!" src="../brush.svg"></button><div id="theme-choices" role="menu"></div></div><form class="search-form"><div class="search-container"><span></span><input class="search-input" name="search" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><button type="button" id="help-button" title="help">?</button><a id="settings-menu" href="../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../wheel.svg"></a></div></form></nav></div><section id="main-content" class="content"><div class="main-heading">
    <h1 class="fqn"><span class="in-band">Crate <a class="mod" href="#">diesel_migrations</a><button id="copy-path" onclick="copy_path(this)" title="Copy item path to clipboard"><img src="../clipboard.svg" width="19" height="18" alt="Copy item path"></button></span></h1><span class="out-of-band"><a class="srclink" href="../src/diesel_migrations/lib.rs.html#3-52">source</a> · <a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span></div><details class="rustdoc-toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Provides functions for maintaining database schema.</p>
<p>A database migration always provides procedures to update the schema, as well as to revert
itself. Diesel’s migrations are versioned, and run in order. Diesel also takes care of tracking
which migrations have already been run automatically. Your migrations don’t need to be
idempotent, as Diesel will ensure no migration is run twice unless it has been reverted.</p>
<p>Migrations should be placed in a <code>/migrations</code> directory at the root of your project (the same
directory as <code>Cargo.toml</code>). When any of these functions are run, Diesel will search for the
migrations directory in the current directory and its parents, stopping when it finds the
directory containing <code>Cargo.toml</code>.</p>
<p>Individual migrations should be a folder containing two files, <code>up.sql</code> and <code>down.sql</code>.
<code>up.sql</code> will be used to run the migration, while <code>down.sql</code> will be used for reverting it. The
folder itself should have the structure <code>{version}_{migration_name}</code>. It is recommended that
you use the timestamp of creation for the version.</p>
<p>Migrations can either be run with the CLI or embedded into the compiled application
and executed with code, for example right after establishing a database connection.
For more information, consult the <a href="macro.embed_migrations.html" title="embed_migrations!"><code>embed_migrations!</code></a> macro.</p>
</div></details><h2 id="macros" class="small-section-header"><a href="#macros">Macros</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="macro" href="macro.embed_migrations.html" title="diesel_migrations::embed_migrations macro">embed_migrations</a></div><div class="item-right docblock-short"><p>This macro will read your migrations at compile time, and create a constant value containing
an embedded list of all your migrations as available at compile time.
This is useful if you would like to use Diesel’s migration infrastructure, but want to ship a single executable
file (such as for embedded applications). It can also be used to apply migrations to an in
memory database (Diesel does this for its own test suite).</p>
</div></div></div><h2 id="structs" class="small-section-header"><a href="#structs">Structs</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.EmbeddedMigrations.html" title="diesel_migrations::EmbeddedMigrations struct">EmbeddedMigrations</a></div><div class="item-right docblock-short"><p>A migration source that embeds migrations into the final binary</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.FileBasedMigrations.html" title="diesel_migrations::FileBasedMigrations struct">FileBasedMigrations</a></div><div class="item-right docblock-short"><p>A migration source based on a migration directory in the file system</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.HarnessWithOutput.html" title="diesel_migrations::HarnessWithOutput struct">HarnessWithOutput</a></div><div class="item-right docblock-short"><p>A migration harness that writes messages
into some output for each applied/reverted migration</p>
</div></div></div><h2 id="traits" class="small-section-header"><a href="#traits">Traits</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="trait" href="trait.MigrationHarness.html" title="diesel_migrations::MigrationHarness trait">MigrationHarness</a></div><div class="item-right docblock-short"><p>A migration harness is an entity which applies migration to an existing database</p>
</div></div></div></section><section id="search" class="content hidden"></section></div></main><div id="rustdoc-vars" data-root-path="../" data-current-crate="diesel_migrations" data-themes="ayu,dark,light" data-resource-suffix="" data-rustdoc-version="1.62.0-nightly (de1bc0008 2022-04-21)" ></div>
</body></html>